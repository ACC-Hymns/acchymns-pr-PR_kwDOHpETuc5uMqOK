import{d as x,r as g,L as f,c as C,g as S,a0 as A,j as y,k as e,a4 as M,a5 as z,l as i,U as L,F as B,q as N,s as u,w as _,v as m,m as $,t as p,y as F,R as c,H as T,J as V}from"./index-e0bdf4b5.js";import{_ as q}from"./home-outline-15dad159.js";import{_ as E}from"./bookmark-97606ac0.js";import{u as O}from"./preferences-a700b486.js";const R=e("h1",{class:"pagetitle"},"Bookmarks",-1),H={class:"search-bar"},U=e("button",{disabled:""},[e("svg",{viewBox:"0 0 1024 1024"},[e("path",{class:"path1",d:"M848.471 928l-263.059-263.059c-48.941 36.706-110.118 55.059-177.412 55.059-171.294 0-312-140.706-312-312s140.706-312 312-312c171.294 0 312 140.706 312 312 0 67.294-24.471 128.471-55.059 177.412l263.059 263.059-79.529 79.529zM189.623 408.078c0 121.364 97.091 218.455 218.455 218.455s218.455-97.091 218.455-218.455c0-121.364-103.159-218.455-218.455-218.455-121.364 0-218.455 97.091-218.455 218.455z"})])],-1),j=e("h2",null,"Bookmarked Songs",-1),G={class:"songlist"},J={class:"song__title"},K={class:"book__title"},P={class:"booktext--right"},I={class:"song__number"},Q={class:"nav"},W=e("img",{class:"ionicon nav__icon",src:q},null,-1),X=e("span",{class:"nav__text"},"Home",-1),Y=e("img",{class:"ionicon nav__icon",src:T},null,-1),Z=e("span",{class:"nav__text"},"Search",-1),ee=e("img",{class:"ionicon nav__icon--active",src:E},null,-1),te=e("span",{class:"nav__text"},"Bookmarks",-1),se=e("img",{class:"ionicon nav__icon",src:V},null,-1),ae=e("span",{class:"nav__text"},"Settings",-1),_e=x({__name:"BookmarkedView",setup(oe){let l=g(""),d=f(()=>l.value.replace(/[.,/#!$%^&*;:{}=\-_`~()]/g,"").replace(/s{2,}/g," ").toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"")),k=g([]),D=f(()=>k.value.filter(s=>{var a,t,n;return((a=s.stripped_title)==null?void 0:a.includes(d.value))||((t=s==null?void 0:s.stripped_first_line)==null?void 0:t.includes(d.value))||((n=s==null?void 0:s.number)==null?void 0:n.includes(d.value))}).sort((s,a)=>s.title.localeCompare(a.title)));const w=O("bookmarks",[]);return C(async()=>{var t,n,v,h,b;const s=await S(),a=await A();for(const r of w.value){if(a[r.book]==null)continue;const o=a[r.book][r.number];k.value.push({title:o.title??"",number:r.number,book:s[r.book],stripped_title:((o==null?void 0:o.title)??"").replace(/[.,/#!$%^&*;:{}=\-_`~()]/g,"").replace(/s{2,}/g," ").toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,""),stripped_first_line:((b=(h=(v=(n=(t=o==null?void 0:o.first_line)==null?void 0:t.replace(/[.,/#!$%^&*;:{}=\-_'"`~()]/g,""))==null?void 0:n.replace(/s{2,}/g," "))==null?void 0:v.toLowerCase())==null?void 0:h.normalize("NFD"))==null?void 0:b.replace(/\p{Diacritic}/gu,""))??""})}}),(s,a)=>(m(),y(B,null,[R,e("div",H,[M(e("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>L(l)?l.value=t:l=t),placeholder:"Search for a song title or number...","aria-label":"Search through site content"},null,512),[[z,i(l)]]),U]),j,e("div",G,[(m(!0),y(B,null,N(i(D),t=>(m(),$(i(c),{key:t.book.name.short+t.number,to:`/display/${t.book.name.short}/${t.number}`,class:"song",style:F(`background: linear-gradient(135deg, ${t.book.primaryColor}, ${t.book.secondaryColor})`)},{default:_(()=>[e("div",null,[e("div",J,p(t.title),1),e("div",K,p(t.book.name.medium),1)]),e("div",P,[e("div",I,"#"+p(t.number),1)])]),_:2},1032,["to","style"]))),128))]),e("nav",Q,[u(i(c),{to:"/",class:"nav__link"},{default:_(()=>[W,X]),_:1}),u(i(c),{to:"/search",class:"nav__link"},{default:_(()=>[Y,Z]),_:1}),u(i(c),{to:"/bookmarks",class:"nav__link nav__link--active"},{default:_(()=>[ee,te]),_:1}),u(i(c),{to:"/settings",class:"nav__link"},{default:_(()=>[se,ae]),_:1})])],64))}});export{_e as default};
