import{d as D,r as s,c as z,a6 as K,Z as L,j as c,l as t,k as l,t as r,p as M,y as v,F as U,q as G,z as j,v as d,E as q,G as A,K as F}from"./index-e0bdf4b5.js";import{v as H,r as P,g as Z}from"./broadcast-177dc9a6.js";const N=u=>(q("data-v-1c616881"),u=u(),A(),u),J={class:"info-seperator"},Q={key:0,class:"song-info"},T={class:"bottom-text"},W={key:1,class:"song-info"},X={class:"song-number"},Y={key:0,class:"verses-label"},$={class:"verses"},ee=N(()=>l("div",{class:"dot"},null,-1)),te=N(()=>l("div",null,null,-1)),se=D({__name:"BroadcastView",setup(u){let h=s(!1),S=s(""),g=s(""),i=s(""),p=s(""),m=s(""),f=s(!1),n=s(!1),_=s(""),b=s("");function y(){let e=new Date,a=e.getHours(),o=e.getMinutes(),I=e.getSeconds(),x=a*30+o*(360/720),C=o*6+I*(360/3600),R=I*6;E.value="rotate("+x+"deg)",V.value="rotate("+C+"deg)",w.value="rotate("+R+"deg)"}let k;async function B(){let e=(await Z(k,S.value)).Item;n.value=e.BOOK_ID.S=="BIBLE",n.value?(_.value=e.SONG_NUMBER.S,b.value=e.BOOK_COLOR.S):(g.value=e.SONG_NUMBER.S,f.value=!1,e.VERSES.NS[0]==-1?i.value="":e.VERSES.NS[0]==-2?i.value="All Verses":(e.VERSES.NS.sort((a,o)=>a-o),i.value=e.VERSES.NS.join(", "),f.value=!0),p.value=e.BOOK_COLOR.S,m.value=e.BOOK_ID.S)}let O="";z(async()=>{O=document.body.style.backgroundColor,document.body.style.backgroundColor="white",y(),setInterval(y,100),setInterval(B,2e3);let e=await K.get({key:"broadcasting_auth_token"}),a=await H(e.value||"");if(h.value=a.status==200,S.value=a.data.church_id,console.log("Authorized: "+h.value),!h.value){m.value="Unauthorized";return}k=P(),B()}),L(()=>{document.body.style.backgroundColor=O});let E=s(""),V=s(""),w=s("");return(e,a)=>(d(),c("div",J,[t(n)?(d(),c("div",Q,[l("h2",{ref:"top_text_element",class:"top-text"},r(t(_)),513),l("h2",T,r(t(b)),1)])):(d(),c("div",W,[l("h1",X,r(t(g)),1),t(f)?(d(),c("h3",Y,"Verses:")):M("",!0),l("h2",$,r(t(i)),1),l("h2",{class:"book-name",style:v({color:t(p)})},r(t(m)),5)])),l("div",{class:j(["clock",{"clock-bible-long":t(_).length>8&&t(n),"clock-song":t(g).length>0,"clock-bible":t(_).length<=8&&t(n)}])},[ee,l("div",null,[l("div",{class:"hour-hand",style:v({transform:t(E)})},null,4),l("div",{class:"minute-hand",style:v({transform:t(V)})},null,4)]),te,(d(),c(U,null,G(61,o=>l("div",{class:"diallines",key:o,style:v({transform:"rotate("+6*(o-2)+"deg)"})},null,4)),64))],2)]))}});const oe=F(se,[["__scopeId","data-v-1c616881"]]);export{oe as default};
